<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opciones</title>
    <link rel="icon" type="image/png" href="Img/estrella.webp">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Secular+One&display=swap" rel="stylesheet">
    <style>
        /* Caja de selecci√≥n de m√∫sica */
        .opcion select,
        #musicTrack {
        width: 80%;
        max-width: 260px;
        padding: 10px 16px;
        margin-top: 10px;

        border-radius: 999px;
        border: 2px solid #ffffff;
        outline: none;

        background: rgba(255, 255, 255, 0.08);
        color: #ffffff;

        font-family: 'Secular One', system-ui, sans-serif;
        font-size: 0.95rem;
        text-align: center;

        /* quitar look feo del navegador */
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;

        box-shadow: 0 0 15px rgba(0, 0, 0, 0.35);
        cursor: pointer;
        }

        /* Opciones internas del select */
        #musicTrack option {
        background: #2a0036;   /* morado oscuro */
        color: #ffffff;
        }

        /* Hover / focus */
        #musicTrack:hover {
        background: rgba(255, 255, 255, 0.14);
        }

        #musicTrack:focus {
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.35);
        }
    </style>
</head>

<body style="background-image: url('Img/BG2.png'); background-size: cover; background-repeat: no-repeat; background-attachment: fixed;">
    <h2 class="title2">Opciones</h2>

    <div class="Mopciones">

        <div class="opcion">
        <label for="volumen">Volumen de M√∫sica</label>
        <input type="range" id="volumen" min="0" max="100" value="50">
        </div>
        <div class="opcion">
            <label for="musicTrack">M√∫sica de fondo</label>
            <select id="musicTrack">
                <option value="sound/Sound1.mp3">Saliendo a la Aventura</option>
                <option value="sound/Sound2.mp3">Nuevos Horizontes</option>
                <option value="sound/Sound3.mp3">Musica de Radio</option>
                <option value="sound/Sound4.mp3">Para brillar</option>
            </select>
        </div>

        <div class="opcion">
        <label>Efectos de sonido</label>
        <input type="checkbox" id="efectos" checked> Activar
        </div>

        <div class="opcion">
        <label>Controles</label>
        <p>Usa <b>W - A - S - D</b> para jugar.
        <br>Presiona <b>ESC</b> para pausar.
        </div>

    </div>

    <a href="index.html" class="btn">Volver al Men√∫</a>
    
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const volumenInput = document.getElementById('volumen');
    const efectosCheckbox = document.getElementById('efectos');
    const trackSelect = document.getElementById('musicTrack');

    // Volumen guardado
    const savedVolume = localStorage.getItem('musicVolume');
    if (savedVolume !== null) {
      volumenInput.value = savedVolume * 100;  // 0‚Äì1 ‚Üí 0‚Äì100
    }

    // Efectos guardados
    const savedSfx = localStorage.getItem('sfxEnabled');
    if (savedSfx !== null) {
      efectosCheckbox.checked = savedSfx === 'true';
    }

    // üéµ Track guardado
    const savedTrack = localStorage.getItem('musicTrack');
    if (savedTrack) {
      trackSelect.value = savedTrack;
    }

    // Guardar volumen cuando muevas el slider
    volumenInput.addEventListener('input', () => {
      const volume = volumenInput.value / 100; // 0‚Äì100 ‚Üí 0‚Äì1
      localStorage.setItem('musicVolume', volume);
    });

    // Guardar si los efectos est√°n activos
    efectosCheckbox.addEventListener('change', () => {
      localStorage.setItem('sfxEnabled', efectosCheckbox.checked);
    });

    // üëâ Guardar track cuando cambie el select
    trackSelect.addEventListener('change', () => {
      localStorage.setItem('musicTrack', trackSelect.value);
    });
  });
</script>
</body>
</html>

